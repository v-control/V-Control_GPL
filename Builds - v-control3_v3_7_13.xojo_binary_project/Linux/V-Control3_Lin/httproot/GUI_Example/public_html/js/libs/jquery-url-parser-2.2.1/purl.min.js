(function(e){if(typeof define==="function"&&define.amd){if(typeof jQuery!=="undefined"){define(["jquery"],e)}else{define([],e)}}else{if(typeof jQuery!=="undefined"){e(jQuery)}else{e()}}})(function(e,t){function a(e,t){var n=decodeURI(e),i=s[t||false?"strict":"loose"].exec(n),o={attr:{},param:{},seg:{}},u=14;while(u--){o.attr[r[u]]=i[u]||""}o.param["query"]=p(o.attr["query"]);o.param["fragment"]=p(o.attr["fragment"]);o.seg["path"]=o.attr.path.replace(/^\/+|\/+$/g,"").split("/");o.seg["fragment"]=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");o.attr["base"]=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"";return o}function f(e){var t=e.tagName;if(typeof t!=="undefined")return n[t.toLowerCase()];return t}function l(e,t){if(e[t].length==0)return e[t]={};var n={};for(var r in e[t])n[r]=e[t][r];e[t]=n;return n}function c(e,t,n,r){var i=e.shift();if(!i){if(g(t[n])){t[n].push(r)}else if("object"==typeof t[n]){t[n]=r}else if("undefined"==typeof t[n]){t[n]=r}else{t[n]=[t[n],r]}}else{var s=t[n]=t[n]||[];if("]"==i){if(g(s)){if(""!=r)s.push(r)}else if("object"==typeof s){s[y(s).length]=r}else{s=t[n]=[t[n],r]}}else if(~i.indexOf("]")){i=i.substr(0,i.length-1);if(!u.test(i)&&g(s))s=l(t,n);c(e,s,i,r)}else{if(!u.test(i)&&g(s))s=l(t,n);c(e,s,i,r)}}}function h(e,t,n){if(~t.indexOf("]")){var r=t.split("["),i=r.length,s=i-1;c(r,e,"base",n)}else{if(!u.test(t)&&g(e.base)){var o={};for(var a in e.base)o[a]=e.base[a];e.base=o}d(e.base,t,n)}return e}function p(e){return m(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var r=t.indexOf("="),i=v(t),s=t.substr(0,i||r),o=t.substr(i||r,t.length),o=o.substr(o.indexOf("=")+1,o.length);if(""==s)s=t,o="";return h(e,s,o)},{base:{}}).base}function d(e,n,r){var i=e[n];if(t===i){e[n]=r}else if(g(i)){i.push(r)}else{e[n]=[i,r]}}function v(e){var t=e.length,n,r;for(var i=0;i<t;++i){r=e[i];if("]"==r)n=false;if("["==r)n=true;if("="==r&&!n)return i}}function m(e,n){var r=0,i=e.length>>0,s=arguments[2];while(r<i){if(r in e)s=n.call(t,s,e[r],r,e);++r}return s}function g(e){return Object.prototype.toString.call(e)==="[object Array]"}function y(e){var t=[];for(prop in e){if(e.hasOwnProperty(prop))t.push(prop)}return t}function b(e,n){if(arguments.length===1&&e===true){n=true;e=t}n=n||false;e=e||window.location.toString();return{data:a(e,n),attr:function(e){e=i[e]||e;return typeof e!=="undefined"?this.data.attr[e]:this.data.attr},param:function(e){return typeof e!=="undefined"?this.data.param.query[e]:this.data.param.query},fparam:function(e){return typeof e!=="undefined"?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){if(typeof e==="undefined"){return this.data.seg.path}else{e=e<0?this.data.seg.path.length+e:e-1;return this.data.seg.path[e]}},fsegment:function(e){if(typeof e==="undefined"){return this.data.seg.fragment}else{e=e<0?this.data.seg.fragment.length+e:e-1;return this.data.seg.fragment[e]}}}}var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],i={anchor:"fragment"},s={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},o=Object.prototype.toString,u=/^[0-9]+$/;if(typeof e!=="undefined"){e.fn.url=function(t){var n="";if(this.length){n=e(this).attr(f(this[0]))||""}return b(n,t)};e.url=b}else{window.purl=b}})